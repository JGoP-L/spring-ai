# æµå¼å·¥å…·è°ƒç”¨æ€§èƒ½é—®é¢˜è¯¦è§£ï¼ˆå›¾æ–‡ç‰ˆï¼‰

## ğŸ“š **ç›®å½•**

1. [å‰ç½®çŸ¥è¯†](#å‰ç½®çŸ¥è¯†)
2. [é—®é¢˜ç°è±¡](#é—®é¢˜ç°è±¡)
3. [æ ¹æœ¬åŸå› ](#æ ¹æœ¬åŸå› )
4. [ä»£ç æ‰§è¡Œæµç¨‹](#ä»£ç æ‰§è¡Œæµç¨‹)
5. [ä¸ºä»€ä¹ˆå¿…é¡»ç”¨boundedElastic](#ä¸ºä»€ä¹ˆå¿…é¡»ç”¨boundedelastic)
6. [æ€§èƒ½å½±å“åˆ†æ](#æ€§èƒ½å½±å“åˆ†æ)
7. [è§£å†³æ–¹æ¡ˆ](#è§£å†³æ–¹æ¡ˆ)

---

## ğŸ“ **å‰ç½®çŸ¥è¯†**

### **1. ä»€ä¹ˆæ˜¯å¼‚æ­¥å’ŒåŒæ­¥ï¼Ÿ**

#### **åŒæ­¥ï¼ˆé˜»å¡ï¼‰**

```java
// åŒæ­¥ä»£ç ï¼šçº¿ç¨‹ä¼šåœä¸‹æ¥ç­‰å¾…
public String getWeather(String city) {
    // çº¿ç¨‹åœ¨è¿™é‡Œç­‰å¾…HTTPå“åº”ï¼ˆ2ç§’ï¼‰
    String result = httpClient.get("https://api.weather.com?city=" + city);
    return result;
}

// æ—¶é—´çº¿
T=0s: çº¿ç¨‹å¼€å§‹æ‰§è¡Œ
T=0s: å‘èµ·HTTPè¯·æ±‚
T=0s~2s: çº¿ç¨‹é˜»å¡ç­‰å¾…ï¼ˆä»€ä¹ˆéƒ½ä¸åšï¼‰  â† æµªè´¹ï¼
T=2s: æ”¶åˆ°å“åº”
T=2s: è¿”å›ç»“æœ
```

**ç‰¹ç‚¹**ï¼š
- âŒ çº¿ç¨‹è¢«å ç”¨ï¼Œä¸èƒ½åšå…¶ä»–äº‹æƒ…
- âŒ å¦‚æœ10ä¸ªè¯·æ±‚åŒæ—¶åˆ°è¾¾ï¼Œéœ€è¦10ä¸ªçº¿ç¨‹

---

#### **å¼‚æ­¥ï¼ˆéé˜»å¡ï¼‰**

```java
// å¼‚æ­¥ä»£ç ï¼šçº¿ç¨‹ä¸ç­‰å¾…
public Mono<String> getWeatherAsync(String city) {
    // å‘èµ·è¯·æ±‚åï¼Œçº¿ç¨‹ç«‹å³è¿”å›ï¼Œå»åšå…¶ä»–äº‹æƒ…
    return webClient.get()
        .uri("https://api.weather.com?city=" + city)
        .retrieve()
        .bodyToMono(String.class);
}

// æ—¶é—´çº¿
T=0s: çº¿ç¨‹å¼€å§‹æ‰§è¡Œ
T=0s: å‘èµ·HTTPè¯·æ±‚ï¼Œæ³¨å†Œå›è°ƒ
T=0s: çº¿ç¨‹ç«‹å³è¿”å›ï¼ˆä¸ç­‰å¾…ï¼‰  â† ç»§ç»­å¤„ç†å…¶ä»–è¯·æ±‚
T=2s: HTTPå“åº”åˆ°è¾¾ï¼Œè§¦å‘å›è°ƒ
T=2s: å›è°ƒå¤„ç†å“åº”
```

**ç‰¹ç‚¹**ï¼š
- âœ… çº¿ç¨‹ä¸è¢«å ç”¨ï¼Œå¯ä»¥ç»§ç»­å¤„ç†å…¶ä»–è¯·æ±‚
- âœ… 1ä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶å¤„ç†æˆåƒä¸Šä¸‡ä¸ªè¯·æ±‚

---

### **2. Reactorçš„çº¿ç¨‹æ¨¡å‹**

Spring AIä½¿ç”¨**Project Reactor**ï¼ˆå“åº”å¼ç¼–ç¨‹æ¡†æ¶ï¼‰ã€‚

#### **æ ¸å¿ƒæ¦‚å¿µï¼šçº¿ç¨‹æ± ï¼ˆSchedulerï¼‰**

Reactoræœ‰å‡ ç§ä¸åŒçš„çº¿ç¨‹æ± ï¼š

| çº¿ç¨‹æ± ç±»å‹ | çº¿ç¨‹æ•° | ç”¨é€” | é€‚ç”¨åœºæ™¯ |
|-----------|--------|------|---------|
| **immediate()** | 0ï¼ˆè°ƒç”¨è€…çº¿ç¨‹ï¼‰ | ä¸åˆ‡æ¢çº¿ç¨‹ | çº¯è®¡ç®— |
| **parallel()** | CPUæ ¸å¿ƒæ•°ï¼ˆ8-16ï¼‰ | CPUå¯†é›†ä»»åŠ¡ | è®¡ç®—ã€åŠ å¯† |
| **boundedElastic()** | CPUæ ¸å¿ƒÃ—10ï¼ˆ80-160ï¼‰ | I/Oé˜»å¡ä»»åŠ¡ | æ•°æ®åº“ã€æ–‡ä»¶ |
| **single()** | 1 | ä¸²è¡Œæ‰§è¡Œ | æ’é˜Ÿä»»åŠ¡ |

```java
// æŸ¥çœ‹ä½ çš„æœºå™¨é…ç½®
int cpuCores = Runtime.getRuntime().availableProcessors();  // ä¾‹å¦‚ï¼š8æ ¸
int parallelThreads = cpuCores;  // parallel: 8ä¸ªçº¿ç¨‹
int boundedElasticThreads = cpuCores * 10;  // boundedElastic: 80ä¸ªçº¿ç¨‹
```

---

### **3. Fluxå’ŒMono**

```java
// Mono: 0æˆ–1ä¸ªå…ƒç´ ï¼ˆç±»ä¼¼Futureï¼‰
Mono<String> mono = Mono.just("Hello");

// Flux: 0åˆ°Nä¸ªå…ƒç´ ï¼ˆç±»ä¼¼Streamï¼‰
Flux<String> flux = Flux.just("A", "B", "C");
```

**æµå¼å“åº”**å°±æ˜¯ç”¨`Flux`ï¼š

```java
Flux<ChatResponse> responses = chatModel.stream(prompt);

// è®¢é˜…æµå¼å“åº”
responses.subscribe(response -> {
    System.out.println(response.getResult().getOutput().getText());
});

// è¾“å‡ºï¼ˆé€ä¸ªåˆ°è¾¾ï¼‰ï¼š
// T=0.1s: "æˆ‘"
// T=0.2s: "éœ€è¦"
// T=0.3s: "è°ƒç”¨"
// T=0.4s: "å·¥å…·"
```

---

## ğŸ”´ **é—®é¢˜ç°è±¡**

### **FIXMEæ³¨é‡Šå‡ºç°åœ¨æ‰€æœ‰11ä¸ªæ¨¡å‹ä¸­**

```java
// OpenAiChatModel.java:367
// AzureOpenAiChatModel.java:382
// AnthropicChatModel.java:274
// GoogleGenAiChatModel.java:553
// VertexAiGeminiChatModel.java:529
// ZhiPuAiChatModel.java:371
// DeepSeekChatModel.java:290
// MistralAiChatModel.java:322
// MiniMaxChatModel.java:378
// OllamaChatModel.java:359
// BedrockProxyChatModel.java:808

// æ‰€æœ‰æ¨¡å‹éƒ½æœ‰è¿™æ®µç›¸åŒçš„ä»£ç 
return Flux.deferContextual(ctx -> {
    ToolExecutionResult toolExecutionResult;
    try {
        ToolCallReactiveContextHolder.setContext(ctx);
        // âš ï¸ è¿™æ˜¯ä¸€ä¸ªåŒæ­¥é˜»å¡è°ƒç”¨
        toolExecutionResult = this.toolCallingManager.executeToolCalls(prompt, response);
    }
    finally {
        ToolCallReactiveContextHolder.clearContext();
    }
    // ...
}).subscribeOn(Schedulers.boundedElastic());  // â† FIXME: æ€§èƒ½ç“¶é¢ˆ
```

---

## ğŸ¯ **æ ¹æœ¬åŸå› **

### **æ ¸å¿ƒçŸ›ç›¾ï¼šå¼‚æ­¥ä¸–ç•Œé‡åˆ°åŒæ­¥é˜»å¡**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å¼‚æ­¥çš„AIæµå¼å“åº”                          â”‚
â”‚                                                 â”‚
â”‚  Flux<ChatResponse>                             â”‚
â”‚  â”œâ”€ response1 "æˆ‘"                              â”‚
â”‚  â”œâ”€ response2 "éœ€è¦"                            â”‚
â”‚  â”œâ”€ response3 "è°ƒç”¨"                            â”‚
â”‚  â””â”€ response4 "get_weatherå·¥å…·"  â† å·¥å…·è°ƒç”¨ï¼   â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹ï¼šéé˜»å¡ï¼Œ1ä¸ªçº¿ç¨‹å¤„ç†æˆåƒä¸Šä¸‡è¯·æ±‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         AIæ¨¡å‹è¯´ï¼šæˆ‘éœ€è¦è°ƒç”¨å·¥å…·
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         åŒæ­¥çš„å·¥å…·æ‰§è¡Œ                            â”‚
â”‚                                                 â”‚
â”‚  String result = toolCallback.call(args);       â”‚
â”‚                   â†‘                             â”‚
â”‚            è¿™é‡Œä¼šé˜»å¡çº¿ç¨‹ï¼                       â”‚
â”‚            å¯èƒ½éœ€è¦2ç§’ã€5ç§’ã€10ç§’...              â”‚
â”‚                                                 â”‚
â”‚  ç‰¹ç‚¹ï¼šé˜»å¡ï¼Œå ç”¨çº¿ç¨‹ç›´åˆ°å®Œæˆ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—®é¢˜**ï¼šå¼‚æ­¥æµå¼å“åº”é‡åˆ°åŒæ­¥é˜»å¡è°ƒç”¨ï¼Œå¿…é¡»åˆ‡æ¢çº¿ç¨‹æ± ï¼

---

## ğŸ“– **ä»£ç æ‰§è¡Œæµç¨‹**

### **å®Œæ•´çš„æ‰§è¡Œæ—¶é—´çº¿**

å‡è®¾ç”¨æˆ·é—®ï¼š"åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"

```
æ—¶é—´çº¿ï¼š
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

T=0.0s
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·å‘èµ·è¯·æ±‚                  â”‚
â”‚ chatModel.stream(prompt)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        
T=0.1s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é€è¯·æ±‚åˆ°OpenAI API          â”‚
â”‚ POST /v1/chat/completions    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        
T=0.2s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¶åˆ°ç¬¬1ä¸ªchunk                â”‚
â”‚ {"choices":[{"delta":         â”‚
â”‚   {"content":"æˆ‘"}}]}         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"æˆ‘"
        
T=0.3s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¶åˆ°ç¬¬2ä¸ªchunk                â”‚
â”‚ {"choices":[{"delta":         â”‚
â”‚   {"content":"éœ€è¦"}}]}       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"éœ€è¦"
        
T=0.4s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¶åˆ°ç¬¬3ä¸ªchunk                â”‚
â”‚ {"choices":[{"delta":         â”‚
â”‚   {"content":"è°ƒç”¨"}}]}       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"è°ƒç”¨"
        
T=0.5s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¶åˆ°ç¬¬4ä¸ªchunk - å·¥å…·è°ƒç”¨ï¼    â”‚
â”‚ {"choices":[{"delta":         â”‚
â”‚   {"tool_calls":[{            â”‚
â”‚     "function":{              â”‚
â”‚       "name":"get_weather",   â”‚
â”‚       "arguments":"{...}"     â”‚
â”‚     }                         â”‚
â”‚   }]}}]}                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    æ£€æµ‹åˆ°å·¥å…·è°ƒç”¨ï¼
        â†“
        
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ å…³é”®ç‚¹ï¼šå¿…é¡»åˆ‡æ¢çº¿ç¨‹ï¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

T=0.5s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»£ç ï¼š                                        â”‚
â”‚ .subscribeOn(Schedulers.boundedElastic())    â”‚
â”‚                                              â”‚
â”‚ ä½œç”¨ï¼šå°†å·¥å…·æ‰§è¡Œåˆ‡æ¢åˆ°ç‹¬ç«‹çº¿ç¨‹æ±               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        åˆ‡æ¢çº¿ç¨‹
        â†“

T=0.5s  ã€BoundedElasticçº¿ç¨‹-1ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¼€å§‹æ‰§è¡Œå·¥å…·                                  â”‚
â”‚                                              â”‚
â”‚ String result = toolCallback.call(           â”‚
â”‚   "{\"city\":\"åŒ—äº¬\"}"                      â”‚
â”‚ );                                           â”‚
â”‚ â†“                                            â”‚
â”‚ public String getWeather(String args) {      â”‚
â”‚     // è°ƒç”¨å¤–éƒ¨API                           â”‚
â”‚     return httpClient.get(                   â”‚
â”‚         "https://api.weather.com?city=åŒ—äº¬"  â”‚
â”‚     );                                       â”‚
â”‚ }                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    çº¿ç¨‹é˜»å¡ç­‰å¾…...
        â†“

T=0.5s ~ T=2.5s  ã€BoundedElasticçº¿ç¨‹-1ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çº¿ç¨‹çŠ¶æ€ï¼šBLOCKED                             â”‚
â”‚                                              â”‚
â”‚ æ­£åœ¨ç­‰å¾…ï¼š                                    â”‚
â”‚ - DNSè§£æ                                    â”‚
â”‚ - TCPè¿æ¥å»ºç«‹                                â”‚
â”‚ - HTTPè¯·æ±‚å‘é€                               â”‚
â”‚ - æœåŠ¡å™¨å¤„ç†                                 â”‚
â”‚ - HTTPå“åº”æ¥æ”¶                               â”‚
â”‚                                              â”‚
â”‚ è¿™ä¸ªçº¿ç¨‹ä»€ä¹ˆéƒ½ä¸èƒ½åšï¼                        â”‚
â”‚ âŒ ä¸èƒ½å¤„ç†å…¶ä»–è¯·æ±‚                          â”‚
â”‚ âŒ ä¸èƒ½æ‰§è¡Œå…¶ä»–å·¥å…·                          â”‚
â”‚ âŒ åªèƒ½ç­‰å¾…...                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

T=2.5s  ã€BoundedElasticçº¿ç¨‹-1ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·¥å…·æ‰§è¡Œå®Œæˆ                                  â”‚
â”‚ result = "{\"temp\":20,\"weather\":\"æ™´å¤©\"}"â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        æ„é€ ToolResponseMessage
        â†“

T=2.6s  ã€BoundedElasticçº¿ç¨‹-1ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å°†å·¥å…·ç»“æœå‘å›AIæ¨¡å‹                          â”‚
â”‚                                              â”‚
â”‚ POST /v1/chat/completions                    â”‚
â”‚ {                                            â”‚
â”‚   "messages": [                              â”‚
â”‚     {"role":"user","content":"..."},         â”‚
â”‚     {"role":"assistant","tool_calls":[...]}, â”‚
â”‚     {"role":"tool","content":"{...}"}        â”‚
â”‚   ]                                          â”‚
â”‚ }                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
åˆ‡æ¢å›I/Oçº¿ç¨‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

T=2.7s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIæ¨¡å‹ç»§ç»­ç”Ÿæˆå“åº”            â”‚
â”‚ "åŒ—äº¬"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"åŒ—äº¬"

T=2.8s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "ä»Šå¤©"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"ä»Šå¤©"

T=2.9s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "å¤©æ°”"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"å¤©æ°”"

T=3.0s  ã€Netty I/Oçº¿ç¨‹ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "æ™´æœ—ï¼Œæ¸©åº¦20åº¦"             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ç”¨æˆ·æ”¶åˆ°ï¼š"æ™´æœ—ï¼Œæ¸©åº¦20åº¦"

T=3.1s
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å“åº”å®Œæˆ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ€»è€—æ—¶ï¼š3.1ç§’
å…¶ä¸­å·¥å…·æ‰§è¡Œï¼š2ç§’ï¼ˆT=0.5s ~ T=2.5sï¼‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

### **å…³é”®ä»£ç è·¯å¾„åˆ†æ**

#### **ç¬¬1æ­¥ï¼šæµå¼å“åº”ä¸­æ£€æµ‹åˆ°å·¥å…·è°ƒç”¨**

```java
// OpenAiChatModel.java:365
Flux<ChatResponse> flux = chatResponse.flatMap(response -> {
    // æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰§è¡Œå·¥å…·
    if (this.toolExecutionEligibilityPredicate.isToolExecutionRequired(
            prompt.getOptions(), response)) {
        
        // âš ï¸ éœ€è¦æ‰§è¡Œå·¥å…·ï¼
        // é—®é¢˜ï¼šå½“å‰åœ¨Nettyçš„I/Oçº¿ç¨‹ä¸Š
        // å¦‚æœç›´æ¥æ‰§è¡Œå·¥å…·ï¼Œä¼šé˜»å¡I/Oçº¿ç¨‹
        // è§£å†³ï¼šåˆ‡æ¢åˆ°ç‹¬ç«‹çº¿ç¨‹æ± 
        
        return Flux.deferContextual(ctx -> {
            // ...
        }).subscribeOn(Schedulers.boundedElastic());  // â† åˆ‡æ¢çº¿ç¨‹
    }
    else {
        return Flux.just(response);
    }
})
```

---

#### **ç¬¬2æ­¥ï¼šåœ¨boundedElasticçº¿ç¨‹ä¸Šæ‰§è¡Œå·¥å…·**

```java
// OpenAiChatModel.java:369-377
return Flux.deferContextual(ctx -> {
    ToolExecutionResult toolExecutionResult;
    try {
        ToolCallReactiveContextHolder.setContext(ctx);
        
        // âš ï¸ è¿™æ˜¯åŒæ­¥é˜»å¡è°ƒç”¨ï¼
        // å½“å‰çº¿ç¨‹ï¼šboundedElastic-1
        // çº¿ç¨‹çŠ¶æ€ï¼šå³å°†è¢«é˜»å¡
        toolExecutionResult = this.toolCallingManager.executeToolCalls(
            prompt, response
        );
        // â† è¿™è¡Œä»£ç ä¼šæ‰§è¡Œå¾ˆä¹…ï¼ˆå¯èƒ½2ç§’ã€5ç§’ã€10ç§’ï¼‰
        
    }
    finally {
        ToolCallReactiveContextHolder.clearContext();
    }
    // ...
})
```

---

#### **ç¬¬3æ­¥ï¼šToolCallingManageræ‰§è¡Œå·¥å…·**

```java
// DefaultToolCallingManager.java:241
String toolCallResult = toolCallback.call(finalToolInputArguments, toolContext);
//                      â†‘
//                  è¿™æ˜¯ç”¨æˆ·å®ç°çš„å·¥å…·å‡½æ•°
//                  é€šå¸¸æ˜¯åŒæ­¥é˜»å¡çš„

// ä¾‹å¦‚ç”¨æˆ·çš„å·¥å…·å®ç°
@Component
public class WeatherTool {
    
    @FunctionTool("get_weather")
    public String getWeather(String city) {
        // âš ï¸ åŒæ­¥é˜»å¡çš„HTTPè°ƒç”¨
        RestTemplate restTemplate = new RestTemplate();
        String result = restTemplate.getForObject(
            "https://api.weather.com/weather?city=" + city,
            String.class
        );
        // â† è¿™é‡Œçº¿ç¨‹è¢«é˜»å¡2ç§’
        
        return result;
    }
}
```

---

## ğŸ”¥ **ä¸ºä»€ä¹ˆå¿…é¡»ç”¨boundedElasticï¼Ÿ**

### **å®éªŒï¼šä¸åŒæ–¹æ¡ˆçš„å¯¹æ¯”**

#### **âŒ æ–¹æ¡ˆ1ï¼šä¸åˆ‡æ¢çº¿ç¨‹ï¼ˆç¾éš¾ï¼‰**

```java
// å¦‚æœä¸ä½¿ç”¨.subscribeOn()
Flux<ChatResponse> flux = chatResponse.flatMap(response -> {
    if (éœ€è¦æ‰§è¡Œå·¥å…·) {
        // ç›´æ¥åœ¨å½“å‰çº¿ç¨‹ï¼ˆNetty I/Oçº¿ç¨‹ï¼‰æ‰§è¡Œ
        ToolExecutionResult result = toolCallingManager.executeToolCalls(...);
        // ...
    }
})
```

**ç»“æœ**ï¼š

```
T=0s    : 100ä¸ªå¹¶å‘è¯·æ±‚åˆ°è¾¾
T=0.1s  : Netty I/Oçº¿ç¨‹æ± ï¼ˆé»˜è®¤8ä¸ªçº¿ç¨‹ï¼‰
          - çº¿ç¨‹1ï¼šå¤„ç†è¯·æ±‚1ï¼Œé‡åˆ°å·¥å…·è°ƒç”¨ï¼Œé˜»å¡2ç§’
          - çº¿ç¨‹2ï¼šå¤„ç†è¯·æ±‚2ï¼Œé‡åˆ°å·¥å…·è°ƒç”¨ï¼Œé˜»å¡2ç§’
          - çº¿ç¨‹3ï¼šå¤„ç†è¯·æ±‚3ï¼Œé‡åˆ°å·¥å…·è°ƒç”¨ï¼Œé˜»å¡2ç§’
          - ...
          - çº¿ç¨‹8ï¼šå¤„ç†è¯·æ±‚8ï¼Œé‡åˆ°å·¥å…·è°ƒç”¨ï¼Œé˜»å¡2ç§’
          
T=0.2s  : æ‰€æœ‰I/Oçº¿ç¨‹éƒ½è¢«é˜»å¡ï¼
          - è¯·æ±‚9-100æ— æ³•å¤„ç†ï¼ˆæ²¡æœ‰å¯ç”¨çº¿ç¨‹ï¼‰
          - æ–°è¯·æ±‚æ— æ³•æ¥æ”¶ï¼ˆI/Oçº¿ç¨‹å…¨éƒ¨é˜»å¡ï¼‰
          
T=2s    : å‰8ä¸ªå·¥å…·æ‰§è¡Œå®Œæˆï¼Œçº¿ç¨‹é‡Šæ”¾
T=2s    : å¼€å§‹å¤„ç†è¯·æ±‚9-16
T=4s    : è¯·æ±‚9-16å®Œæˆ
T=4s    : å¼€å§‹å¤„ç†è¯·æ±‚17-24
...
T=25s   : æœ€åä¸€æ‰¹è¯·æ±‚å®Œæˆ

ğŸ’¥ ç»“æœï¼š
- ç³»ç»Ÿååé‡ä¸‹é™åˆ°åŸæ¥çš„1/10
- å¹³å‡å»¶è¿Ÿä»2ç§’å¢åŠ åˆ°13ç§’
- ç”¨æˆ·ä½“éªŒæå·®
```

---

#### **ğŸ”¶ æ–¹æ¡ˆ2ï¼šä½¿ç”¨parallelçº¿ç¨‹æ± ï¼ˆä¸å¤Ÿå¥½ï¼‰**

```java
.subscribeOn(Schedulers.parallel())
```

**Schedulers.parallel()é…ç½®**ï¼š
- çº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•°ï¼ˆä¾‹å¦‚8æ ¸ â†’ 8ä¸ªçº¿ç¨‹ï¼‰
- ç”¨é€”ï¼šCPUå¯†é›†å‹è®¡ç®—ï¼ˆåŠ å¯†ã€ç¼–ç ã€å¤æ‚è¿ç®—ï¼‰

**ç»“æœ**ï¼š

```
T=0s    : 100ä¸ªå¹¶å‘è¯·æ±‚åˆ°è¾¾
T=0.1s  : parallelçº¿ç¨‹æ± ï¼ˆ8ä¸ªçº¿ç¨‹ï¼‰
          - çº¿ç¨‹1-8ï¼šæ‰§è¡Œå‰8ä¸ªå·¥å…·ï¼Œé˜»å¡2ç§’
          
T=2s    : å‰8ä¸ªå®Œæˆï¼Œçº¿ç¨‹é‡Šæ”¾
T=2s    : æ‰§è¡Œç¬¬9-16ä¸ªå·¥å…·
T=4s    : ç¬¬9-16ä¸ªå®Œæˆ
...
T=25s   : å®Œæˆ

ğŸ”¶ ç»“æœï¼š
- å’Œæ–¹æ¡ˆ1ä¸€æ ·æ…¢ï¼
- å› ä¸ºçº¿ç¨‹æ•°å¤ªå°‘ï¼ˆåªæœ‰8ä¸ªï¼‰
- parallelä¸é€‚åˆI/Oé˜»å¡ä»»åŠ¡
```

---

#### **âœ… æ–¹æ¡ˆ3ï¼šä½¿ç”¨boundedElasticçº¿ç¨‹æ± ï¼ˆå½“å‰æ–¹æ¡ˆï¼‰**

```java
.subscribeOn(Schedulers.boundedElastic())
```

**Schedulers.boundedElastic()é…ç½®**ï¼š
- çº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•° Ã— 10ï¼ˆä¾‹å¦‚8æ ¸ â†’ 80ä¸ªçº¿ç¨‹ï¼‰
- é˜Ÿåˆ—å¤§å° = 100,000
- çº¿ç¨‹TTL = 60ç§’ï¼ˆç©ºé—²åå›æ”¶ï¼‰
- ç”¨é€”ï¼šI/Oé˜»å¡ä»»åŠ¡ï¼ˆæ•°æ®åº“ã€æ–‡ä»¶ã€ç½‘ç»œï¼‰

**ç»“æœ**ï¼š

```
T=0s    : 100ä¸ªå¹¶å‘è¯·æ±‚åˆ°è¾¾
T=0.1s  : boundedElasticçº¿ç¨‹æ± ï¼ˆ80ä¸ªçº¿ç¨‹ï¼‰
          - çº¿ç¨‹1-80ï¼šæ‰§è¡Œå‰80ä¸ªå·¥å…·ï¼Œé˜»å¡2ç§’
          - è¯·æ±‚81-100ï¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼ˆè¿˜æœ‰80ä¸ªçº¿ç¨‹å¯ç”¨ï¼‰
          
T=2s    : å‰80ä¸ªå®Œæˆï¼Œçº¿ç¨‹é‡Šæ”¾
T=2s    : ç«‹å³æ‰§è¡Œè¯·æ±‚81-100
T=4s    : å…¨éƒ¨å®Œæˆ

âœ… ç»“æœï¼š
- å‰80ä¸ªè¯·æ±‚ï¼šå»¶è¿Ÿ2ç§’
- å20ä¸ªè¯·æ±‚ï¼šå»¶è¿Ÿ4ç§’
- å¹³å‡å»¶è¿Ÿï¼š2.4ç§’
- æ¯”æ–¹æ¡ˆ1/2å¿«10å€ï¼
```

---

### **ä¸ºä»€ä¹ˆboundedElasticæ˜¯æœ€ä½³é€‰æ‹©ï¼Ÿ**

| ç‰¹æ€§ | immediate | parallel | boundedElastic |
|------|-----------|----------|----------------|
| çº¿ç¨‹æ•° | 0 | 8 | 80 |
| é˜Ÿåˆ— | æ—  | æ—  | 100,000 |
| TTL | - | - | 60ç§’ |
| é€‚ç”¨ | çº¯è®¡ç®— | CPUå¯†é›† | **I/Oé˜»å¡** âœ… |
| å¹¶å‘èƒ½åŠ› | ğŸ’¥ å·® | ğŸ”¶ ä¸€èˆ¬ | âœ… å¥½ |

**boundedElasticçš„ä¼˜åŠ¿**ï¼š
1. âœ… **çº¿ç¨‹æ•°å¤š**ï¼š80ä¸ªçº¿ç¨‹ vs 8ä¸ªçº¿ç¨‹ï¼ˆæå‡10å€ï¼‰
2. âœ… **æœ‰é˜Ÿåˆ—**ï¼š100,000ä¸ªä»»åŠ¡å¯ä»¥æ’é˜Ÿç­‰å¾…
3. âœ… **è‡ªåŠ¨å›æ”¶**ï¼šç©ºé—²60ç§’åå›æ”¶çº¿ç¨‹ï¼ŒèŠ‚çœèµ„æº
4. âœ… **ä¸“ä¸ºI/Oè®¾è®¡**ï¼šé€‚åˆé˜»å¡çš„å·¥å…·è°ƒç”¨

---

## âš ï¸ **æ€§èƒ½å½±å“åˆ†æ**

### **åœºæ™¯1ï¼šä½å¹¶å‘ï¼ˆ10ä¸ªç”¨æˆ·ï¼‰**

```
é…ç½®ï¼š
- boundedElastic: 80ä¸ªçº¿ç¨‹
- æ¯ä¸ªå·¥å…·è°ƒç”¨ï¼š2ç§’
- å¹¶å‘ç”¨æˆ·ï¼š10äºº

æ‰§è¡Œï¼š
T=0s:   10ä¸ªå·¥å…·è°ƒç”¨è¯·æ±‚
T=0.1s: 10ä¸ªçº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼ˆå ç”¨10/80ä¸ªçº¿ç¨‹ï¼‰
T=2.1s: å…¨éƒ¨å®Œæˆ

ç»“æœï¼šâœ… æ²¡æœ‰æ€§èƒ½é—®é¢˜
- å¹³å‡å»¶è¿Ÿï¼š2ç§’
- çº¿ç¨‹åˆ©ç”¨ç‡ï¼š12.5%ï¼ˆ10/80ï¼‰
```

---

### **åœºæ™¯2ï¼šä¸­å¹¶å‘ï¼ˆ50ä¸ªç”¨æˆ·ï¼‰**

```
é…ç½®ï¼š
- boundedElastic: 80ä¸ªçº¿ç¨‹
- æ¯ä¸ªå·¥å…·è°ƒç”¨ï¼š2ç§’
- å¹¶å‘ç”¨æˆ·ï¼š50äºº

æ‰§è¡Œï¼š
T=0s:   50ä¸ªå·¥å…·è°ƒç”¨è¯·æ±‚
T=0.1s: 50ä¸ªçº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼ˆå ç”¨50/80ä¸ªçº¿ç¨‹ï¼‰
T=2.1s: å…¨éƒ¨å®Œæˆ

ç»“æœï¼šâœ… åŸºæœ¬æ²¡æœ‰é—®é¢˜
- å¹³å‡å»¶è¿Ÿï¼š2ç§’
- çº¿ç¨‹åˆ©ç”¨ç‡ï¼š62.5%ï¼ˆ50/80ï¼‰
```

---

### **åœºæ™¯3ï¼šé«˜å¹¶å‘ï¼ˆ100ä¸ªç”¨æˆ·ï¼Œæ¯äºº1ä¸ªå·¥å…·ï¼‰**

```
é…ç½®ï¼š
- boundedElastic: 80ä¸ªçº¿ç¨‹
- æ¯ä¸ªå·¥å…·è°ƒç”¨ï¼š2ç§’
- å¹¶å‘ç”¨æˆ·ï¼š100äºº

æ‰§è¡Œï¼š
T=0s:   100ä¸ªå·¥å…·è°ƒç”¨è¯·æ±‚
T=0.1s: 80ä¸ªçº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼ˆçº¿ç¨‹æ± æ»¡äº†ï¼ï¼‰
T=0.1s: 20ä¸ªè¯·æ±‚åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…
T=2.1s: å‰80ä¸ªå®Œæˆï¼Œçº¿ç¨‹é‡Šæ”¾
T=2.1s: å20ä¸ªå¼€å§‹æ‰§è¡Œ
T=4.1s: å…¨éƒ¨å®Œæˆ

ç»“æœï¼šğŸ”¶ å¼€å§‹å‡ºç°æ€§èƒ½é—®é¢˜
- å‰80ä¸ªç”¨æˆ·ï¼šå»¶è¿Ÿ2ç§’ âœ…
- å20ä¸ªç”¨æˆ·ï¼šå»¶è¿Ÿ4ç§’ âš ï¸ï¼ˆæ…¢äº†1å€ï¼‰
- å¹³å‡å»¶è¿Ÿï¼š2.4ç§’
- çº¿ç¨‹åˆ©ç”¨ç‡ï¼š100%ï¼ˆ80/80ï¼Œé¥±å’Œï¼‰
```

---

### **åœºæ™¯4ï¼šè¶…é«˜å¹¶å‘ï¼ˆ100ä¸ªç”¨æˆ·ï¼Œæ¯äºº3ä¸ªå·¥å…·ï¼‰**

```
é…ç½®ï¼š
- boundedElastic: 80ä¸ªçº¿ç¨‹
- æ¯ä¸ªå·¥å…·è°ƒç”¨ï¼š2ç§’
- å¹¶å‘ç”¨æˆ·ï¼š100äººï¼Œæ¯äºº3ä¸ªå·¥å…·è°ƒç”¨
- æ€»å·¥å…·è°ƒç”¨ï¼š300ä¸ª

æ‰§è¡Œï¼š
T=0s:   300ä¸ªå·¥å…·è°ƒç”¨è¯·æ±‚åˆ°è¾¾
T=0.1s: 80ä¸ªçº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼ˆç¬¬1æ‰¹ï¼‰
T=0.1s: 220ä¸ªè¯·æ±‚åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…
T=2.1s: ç¬¬1æ‰¹å®Œæˆï¼ˆ80ä¸ªï¼‰
T=2.1s: ç¬¬2æ‰¹å¼€å§‹æ‰§è¡Œï¼ˆ80ä¸ªï¼‰
T=4.1s: ç¬¬2æ‰¹å®Œæˆï¼ˆ160ä¸ªï¼‰
T=4.1s: ç¬¬3æ‰¹å¼€å§‹æ‰§è¡Œï¼ˆ80ä¸ªï¼‰
T=6.1s: ç¬¬3æ‰¹å®Œæˆï¼ˆ240ä¸ªï¼‰
T=6.1s: ç¬¬4æ‰¹å¼€å§‹æ‰§è¡Œï¼ˆ60ä¸ªï¼‰
T=8.1s: ç¬¬4æ‰¹å®Œæˆï¼ˆ300ä¸ªï¼‰

ç»“æœï¼šğŸ’¥ ä¸¥é‡æ€§èƒ½é—®é¢˜
- ç¬¬1æ‰¹ï¼ˆ80ä¸ªï¼‰ï¼šå»¶è¿Ÿ2ç§’
- ç¬¬2æ‰¹ï¼ˆ80ä¸ªï¼‰ï¼šå»¶è¿Ÿ4ç§’
- ç¬¬3æ‰¹ï¼ˆ80ä¸ªï¼‰ï¼šå»¶è¿Ÿ6ç§’
- ç¬¬4æ‰¹ï¼ˆ60ä¸ªï¼‰ï¼šå»¶è¿Ÿ8ç§’
- å¹³å‡å»¶è¿Ÿï¼š5ç§’
- æœ€å·®å»¶è¿Ÿï¼š8ç§’
- çº¿ç¨‹åˆ©ç”¨ç‡ï¼š100%ï¼ˆæŒç»­é¥±å’Œï¼‰
```

---

### **åœºæ™¯5ï¼šæç«¯æƒ…å†µï¼ˆå·¥å…·è°ƒç”¨è€—æ—¶10ç§’ï¼‰**

```
é…ç½®ï¼š
- boundedElastic: 80ä¸ªçº¿ç¨‹
- æ¯ä¸ªå·¥å…·è°ƒç”¨ï¼š10ç§’ï¼ˆä¾‹å¦‚å¤æ‚çš„æ•°æ®åˆ†æï¼‰
- å¹¶å‘ç”¨æˆ·ï¼š100äºº

æ‰§è¡Œï¼š
T=0s:    100ä¸ªå·¥å…·è°ƒç”¨è¯·æ±‚
T=0.1s:  80ä¸ªçº¿ç¨‹å¼€å§‹æ‰§è¡Œ
T=0.1s:  20ä¸ªè¯·æ±‚ç­‰å¾…
T=10.1s: å‰80ä¸ªå®Œæˆ
T=10.1s: å20ä¸ªå¼€å§‹æ‰§è¡Œ
T=20.1s: å…¨éƒ¨å®Œæˆ

ç»“æœï¼šğŸ’¥ğŸ’¥ ç¾éš¾æ€§æ€§èƒ½é—®é¢˜
- å‰80ä¸ªç”¨æˆ·ï¼šå»¶è¿Ÿ10ç§’
- å20ä¸ªç”¨æˆ·ï¼šå»¶è¿Ÿ20ç§’ï¼ˆæ…¢äº†1å€ï¼ï¼‰
- å¹³å‡å»¶è¿Ÿï¼š12ç§’
- ç”¨æˆ·ä½“éªŒæå·®
```

---

## ğŸ¯ **è§£å†³æ–¹æ¡ˆ**

### **æ–¹æ¡ˆå¯¹æ¯”æ€»ç»“**

| æ–¹æ¡ˆ | å¼€å‘æˆæœ¬ | æ€§èƒ½æå‡ | å‘åå…¼å®¹ | æ¨èåº¦ |
|------|---------|---------|---------|--------|
| çŸ­æœŸï¼šå¢åŠ çº¿ç¨‹æ•° | 1å¤© | +50% | âœ… | â­â­â­ |
| çŸ­æœŸï¼šç›‘æ§å‘Šè­¦ | 3å¤© | 0% | âœ… | â­â­â­â­ |
| ä¸­æœŸï¼šå¼‚æ­¥å·¥å…·æ¥å£ | 2ä¸ªæœˆ | +500% | âœ… | â­â­â­â­â­ |
| é•¿æœŸï¼šå®Œå…¨é‡æ„ | 6ä¸ªæœˆ | +1000% | ğŸ”¶ | â­â­â­â­â­ |

---

### **ğŸš€ çŸ­æœŸæ–¹æ¡ˆ1ï¼šå¢åŠ boundedElasticçº¿ç¨‹æ•°**

```yaml
# application.yml
spring:
  reactor:
    schedulers:
      bounded-elastic:
        max-threads: 200        # å¢åŠ åˆ°200ä¸ªï¼ˆé»˜è®¤80ï¼‰
        queue-size: 200000      # å¢åŠ é˜Ÿåˆ—ï¼ˆé»˜è®¤100000ï¼‰
        thread-idle-time: 30s   # å‡å°‘ç©ºé—²æ—¶é—´ï¼ˆé»˜è®¤60sï¼‰
```

**æ•ˆæœ**ï¼š

```
åœºæ™¯ï¼š100ä¸ªç”¨æˆ·ï¼Œæ¯äºº3ä¸ªå·¥å…·
é…ç½®å‰ï¼ˆ80çº¿ç¨‹ï¼‰ï¼šå¹³å‡å»¶è¿Ÿ5ç§’
é…ç½®åï¼ˆ200çº¿ç¨‹ï¼‰ï¼šå¹³å‡å»¶è¿Ÿ2.4ç§’
æå‡ï¼š50%
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç«‹å³ç”Ÿæ•ˆ
- âœ… æ— éœ€æ”¹ä»£ç 
- âœ… é›¶é£é™©

**ç¼ºç‚¹**ï¼š
- ğŸ”¶ ä»ç„¶æœ‰ä¸Šé™
- ğŸ”¶ å†…å­˜å ç”¨å¢åŠ 
- ğŸ”¶ ä¸èƒ½å½»åº•è§£å†³é—®é¢˜

---

### **ğŸš€ çŸ­æœŸæ–¹æ¡ˆ2ï¼šç›‘æ§å’Œå‘Šè­¦**

```java
@Configuration
public class BoundedElasticMonitorConfig {
    
    @Bean
    public ScheduledExecutorService boundedElasticMonitor() {
        ScheduledExecutorService executor = 
            Executors.newSingleThreadScheduledExecutor();
        
        executor.scheduleAtFixedRate(() -> {
            try {
                // è·å–boundedElasticçš„çŠ¶æ€
                SchedulerMetrics metrics = getSchedulerMetrics("boundedElastic");
                
                int activeThreads = metrics.getActiveThreads();
                int maxThreads = metrics.getMaxThreads();
                int queueSize = metrics.getQueueSize();
                int maxQueueSize = metrics.getMaxQueueSize();
                
                double threadUsage = (double) activeThreads / maxThreads * 100;
                double queueUsage = (double) queueSize / maxQueueSize * 100;
                
                // å‘Šè­¦é˜ˆå€¼
                if (threadUsage > 80) {
                    logger.warn("âš ï¸ BoundedElasticçº¿ç¨‹æ± ä½¿ç”¨ç‡: {}% ({}/{})", 
                        threadUsage, activeThreads, maxThreads);
                }
                
                if (queueUsage > 50) {
                    logger.warn("âš ï¸ å·¥å…·è°ƒç”¨é˜Ÿåˆ—ç§¯å‹: {}% ({}/{})", 
                        queueUsage, queueSize, maxQueueSize);
                }
                
                // å‘é€åˆ°ç›‘æ§ç³»ç»Ÿ
                Metrics.gauge("reactor.boundedElastic.activeThreads", activeThreads);
                Metrics.gauge("reactor.boundedElastic.queueSize", queueSize);
                
            } catch (Exception e) {
                logger.error("ç›‘æ§å¤±è´¥", e);
            }
        }, 0, 5, TimeUnit.SECONDS);  // æ¯5ç§’æ£€æŸ¥ä¸€æ¬¡
        
        return executor;
    }
}
```

**é…ç½®Grafanaå‘Šè­¦**ï¼š

```yaml
# PrometheusæŸ¥è¯¢
reactor_boundedElastic_activeThreads / reactor_boundedElastic_maxThreads > 0.8

# å‘Šè­¦è§„åˆ™
- alert: BoundedElasticHighUsage
  expr: reactor_boundedElastic_activeThreads / reactor_boundedElastic_maxThreads > 0.8
  for: 1m
  annotations:
    summary: "BoundedElasticçº¿ç¨‹æ± ä½¿ç”¨ç‡è¶…è¿‡80%"
    description: "å½“å‰ä½¿ç”¨ç‡: {{ $value }}%"
```

---

### **â­ ä¸­æœŸæ–¹æ¡ˆï¼šæ”¯æŒå¼‚æ­¥å·¥å…·ï¼ˆæ¨èï¼‰**

#### **1. å®šä¹‰å¼‚æ­¥å·¥å…·æ¥å£**

```java
package org.springframework.ai.model.tool;

import reactor.core.publisher.Mono;

/**
 * å¼‚æ­¥å·¥å…·å›è°ƒæ¥å£
 * 
 * <p>ç›¸æ¯”ä¼ ç»Ÿçš„{@link ToolCallback}ï¼Œå¼‚æ­¥å·¥å…·ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œ
 * é€‚åˆéœ€è¦è°ƒç”¨å¤–éƒ¨APIã€æ•°æ®åº“ç­‰I/Oæ“ä½œçš„åœºæ™¯ã€‚
 * 
 * <p>ä½¿ç”¨å¼‚æ­¥å·¥å…·å¯ä»¥æ˜¾è‘—æå‡å¹¶å‘æ€§èƒ½ï¼Œé¿å…çº¿ç¨‹æ± è€—å°½ã€‚
 * 
 * @author Spring AI Team
 * @since 1.2.0
 */
public interface AsyncToolCallback extends ToolCallback {
    
    /**
     * å¼‚æ­¥æ‰§è¡Œå·¥å…·è°ƒç”¨
     * 
     * @param arguments å·¥å…·å‚æ•°ï¼ˆJSONæ ¼å¼ï¼‰
     * @param context å·¥å…·æ‰§è¡Œä¸Šä¸‹æ–‡
     * @return å¼‚æ­¥è¿”å›å·¥å…·æ‰§è¡Œç»“æœ
     */
    Mono<String> callAsync(String arguments, ToolContext context);
    
    /**
     * æ£€æŸ¥æ˜¯å¦æ”¯æŒå¼‚æ­¥è°ƒç”¨
     * 
     * <p>å¦‚æœè¿”å›trueï¼Œæ¡†æ¶ä¼šä¼˜å…ˆä½¿ç”¨{@link #callAsync}ï¼›
     * å¦‚æœè¿”å›falseï¼Œæ¡†æ¶ä¼šé™çº§åˆ°åŒæ­¥è°ƒç”¨{@link #call}ã€‚
     * 
     * @return æ˜¯å¦æ”¯æŒå¼‚æ­¥
     */
    default boolean supportsAsync() {
        return true;
    }
    
    /**
     * åŒæ­¥è°ƒç”¨ï¼ˆå‘åå…¼å®¹ï¼‰
     * 
     * <p>å¦‚æœæœªå®ç°å¼‚æ­¥æ–¹æ³•ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨åŒæ­¥æ–¹æ³•ã€‚
     * ä½†å»ºè®®å°½å¯èƒ½å®ç°å¼‚æ­¥æ–¹æ³•ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚
     */
    @Override
    default String call(String arguments, ToolContext context) {
        // å¦‚æœåªå®ç°äº†å¼‚æ­¥æ–¹æ³•ï¼Œå¯ä»¥é˜»å¡ç­‰å¾…
        return callAsync(arguments, context).block();
    }
}
```

---

#### **2. ç”¨æˆ·å®ç°å¼‚æ­¥å·¥å…·**

```java
@Component
public class AsyncWeatherTool implements AsyncToolCallback {
    
    private final WebClient webClient;
    
    public AsyncWeatherTool(WebClient.Builder webClientBuilder) {
        this.webClient = webClientBuilder
            .baseUrl("https://api.weather.com")
            .build();
    }
    
    @Override
    public Mono<String> callAsync(String arguments, ToolContext context) {
        // è§£æå‚æ•°
        WeatherRequest request = parseArguments(arguments);
        
        // âœ… ä½¿ç”¨WebClientè¿›è¡Œéé˜»å¡HTTPè°ƒç”¨
        return webClient.get()
            .uri(uriBuilder -> uriBuilder
                .path("/weather")
                .queryParam("city", request.getCity())
                .queryParam("units", "metric")
                .build())
            .retrieve()
            .bodyToMono(WeatherResponse.class)
            .map(this::formatWeatherResult)
            .timeout(Duration.ofSeconds(5))
            .onErrorResume(ex -> Mono.just("è·å–å¤©æ°”ä¿¡æ¯å¤±è´¥: " + ex.getMessage()));
    }
    
    @Override
    public ToolDefinition getToolDefinition() {
        return ToolDefinition.builder()
            .name("get_weather")
            .description("è·å–æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ä¿¡æ¯")
            .inputTypeSchema(WeatherRequest.class)
            .build();
    }
    
    @Override
    public ToolMetadata getToolMetadata() {
        return ToolMetadata.builder()
            .name("get_weather")
            .returnDirect(false)
            .build();
    }
    
    private WeatherRequest parseArguments(String arguments) {
        try {
            ObjectMapper mapper = new ObjectMapper();
            return mapper.readValue(arguments, WeatherRequest.class);
        } catch (Exception e) {
            throw new IllegalArgumentException("æ— æ•ˆçš„å‚æ•°: " + arguments, e);
        }
    }
    
    private String formatWeatherResult(WeatherResponse response) {
        return String.format(
            "åŸå¸‚ï¼š%s\næ¸©åº¦ï¼š%.1fÂ°C\nå¤©æ°”ï¼š%s\næ¹¿åº¦ï¼š%d%%",
            response.getCity(),
            response.getTemperature(),
            response.getDescription(),
            response.getHumidity()
        );
    }
}

@Data
class WeatherRequest {
    private String city;
}

@Data
class WeatherResponse {
    private String city;
    private double temperature;
    private String description;
    private int humidity;
}
```

---

#### **3. ä¿®æ”¹ToolCallingManageræ”¯æŒå¼‚æ­¥**

```java
public interface ToolCallingManager {
    
    // ä¿ç•™åŸæœ‰åŒæ­¥æ–¹æ³•ï¼ˆå‘åå…¼å®¹ï¼‰
    ToolExecutionResult executeToolCalls(Prompt prompt, ChatResponse chatResponse);
    
    /**
     * å¼‚æ­¥æ‰§è¡Œå·¥å…·è°ƒç”¨
     * 
     * <p>å¦‚æœå·¥å…·å®ç°äº†{@link AsyncToolCallback}æ¥å£ï¼Œ
     * å°†ä½¿ç”¨éé˜»å¡çš„å¼‚æ­¥æ‰§è¡Œï¼›å¦åˆ™é™çº§åˆ°åŒæ­¥æ‰§è¡Œã€‚
     * 
     * @param prompt åŸå§‹æç¤º
     * @param chatResponse AIæ¨¡å‹çš„å“åº”ï¼ˆåŒ…å«å·¥å…·è°ƒç”¨ï¼‰
     * @return å¼‚æ­¥è¿”å›å·¥å…·æ‰§è¡Œç»“æœ
     */
    Mono<ToolExecutionResult> executeToolCallsAsync(Prompt prompt, ChatResponse chatResponse);
}
```

```java
@Service
public class DefaultToolCallingManager implements ToolCallingManager {
    
    // ... ç°æœ‰ä»£ç  ...
    
    @Override
    public Mono<ToolExecutionResult> executeToolCallsAsync(Prompt prompt, ChatResponse chatResponse) {
        // è·å–æ‰€æœ‰å·¥å…·è°ƒç”¨
        List<AssistantMessage.ToolCall> toolCalls = getToolCalls(chatResponse);
        
        // ä¸ºæ¯ä¸ªå·¥å…·è°ƒç”¨åˆ›å»ºå¼‚æ­¥æ‰§è¡Œä»»åŠ¡
        List<Mono<ToolResponse>> toolResponseMonos = toolCalls.stream()
            .map(toolCall -> executeToolCallAsync(toolCall, prompt))
            .toList();
        
        // å¹¶è¡Œæ‰§è¡Œæ‰€æœ‰å·¥å…·
        return Mono.zip(toolResponseMonos, responses -> {
            // åˆå¹¶æ‰€æœ‰å·¥å…·å“åº”
            List<ToolResponse> toolResponses = Arrays.stream(responses)
                .map(r -> (ToolResponse) r)
                .toList();
            
            // æ„å»ºå¯¹è¯å†å²
            AssistantMessage assistantMessage = getAssistantMessage(chatResponse);
            ToolResponseMessage toolResponseMessage = buildToolResponseMessage(toolResponses);
            List<Message> conversationHistory = buildConversationHistory(
                prompt.getInstructions(), assistantMessage, toolResponseMessage
            );
            
            return ToolExecutionResult.builder()
                .conversationHistory(conversationHistory)
                .returnDirect(shouldReturnDirect(toolResponses))
                .build();
        });
    }
    
    private Mono<ToolResponse> executeToolCallAsync(AssistantMessage.ToolCall toolCall, Prompt prompt) {
        String toolName = toolCall.name();
        String arguments = toolCall.arguments();
        
        // è§£æå·¥å…·
        ToolCallback callback = resolveToolCallback(toolName, prompt);
        if (callback == null) {
            return Mono.error(new IllegalStateException("æœªæ‰¾åˆ°å·¥å…·: " + toolName));
        }
        
        // æ„å»ºå·¥å…·ä¸Šä¸‹æ–‡
        ToolContext toolContext = buildToolContext(prompt);
        
        // ğŸ” æ£€æŸ¥æ˜¯å¦æ”¯æŒå¼‚æ­¥
        if (callback instanceof AsyncToolCallback asyncCallback && asyncCallback.supportsAsync()) {
            // âœ… å¼‚æ­¥æ‰§è¡Œï¼ˆéé˜»å¡ï¼‰
            logger.debug("å¼‚æ­¥æ‰§è¡Œå·¥å…·: {}", toolName);
            return asyncCallback.callAsync(arguments, toolContext)
                .map(result -> new ToolResponse(toolCall.id(), toolName, result))
                .timeout(Duration.ofSeconds(30))  // è¶…æ—¶ä¿æŠ¤
                .onErrorResume(ex -> {
                    logger.error("å·¥å…·æ‰§è¡Œå¤±è´¥: {}", toolName, ex);
                    String errorMessage = handleToolExecutionError(ex);
                    return Mono.just(new ToolResponse(toolCall.id(), toolName, errorMessage));
                });
        }
        else {
            // ğŸ”¶ é™çº§åˆ°åŒæ­¥æ‰§è¡Œï¼ˆéœ€è¦boundedElasticï¼‰
            logger.debug("åŒæ­¥æ‰§è¡Œå·¥å…·ï¼ˆé™çº§ï¼‰: {}", toolName);
            return Mono.fromCallable(() -> {
                String result = callback.call(arguments, toolContext);
                return new ToolResponse(toolCall.id(), toolName, result);
            })
            .subscribeOn(Schedulers.boundedElastic())  // â† ä»ç„¶éœ€è¦ï¼Œä½†åªç”¨äºåŒæ­¥å·¥å…·
            .timeout(Duration.ofSeconds(30))
            .onErrorResume(ex -> {
                logger.error("å·¥å…·æ‰§è¡Œå¤±è´¥: {}", toolName, ex);
                String errorMessage = handleToolExecutionError(ex);
                return Mono.just(new ToolResponse(toolCall.id(), toolName, errorMessage));
            });
        }
    }
}

@Data
@AllArgsConstructor
class ToolResponse {
    private String id;
    private String name;
    private String result;
}
```

---

#### **4. ä¿®æ”¹æµå¼æ¨¡å‹å®ç°**

```java
// OpenAiChatModel.java
Flux<ChatResponse> flux = chatResponse.flatMap(response -> {
    if (this.toolExecutionEligibilityPredicate.isToolExecutionRequired(prompt.getOptions(), response)) {
        
        // âœ… ä½¿ç”¨å¼‚æ­¥å·¥å…·è°ƒç”¨
        return this.toolCallingManager.executeToolCallsAsync(prompt, response)
            .flatMapMany(toolExecutionResult -> {
                if (toolExecutionResult.returnDirect()) {
                    return Flux.just(ChatResponse.builder().from(response)
                        .generations(ToolExecutionResult.buildGenerations(toolExecutionResult))
                        .build());
                }
                else {
                    return this.internalStream(
                        new Prompt(toolExecutionResult.conversationHistory(), prompt.getOptions()),
                        response
                    );
                }
            });
        
        // âœ… ä¸å†éœ€è¦ .subscribeOn(Schedulers.boundedElastic())
        //    å› ä¸ºå¼‚æ­¥å·¥å…·ä¸ä¼šé˜»å¡çº¿ç¨‹
        
    }
    else {
        return Flux.just(response);
    }
})
```

---

### **æ€§èƒ½æå‡å¯¹æ¯”**

| åœºæ™¯ | åŒæ­¥å·¥å…·ï¼ˆå½“å‰ï¼‰ | å¼‚æ­¥å·¥å…·ï¼ˆä¼˜åŒ–åï¼‰ | æ€§èƒ½æå‡ |
|------|----------------|------------------|---------|
| **10å¹¶å‘ï¼Œ1å·¥å…·** | 2ç§’ | 2ç§’ | 0% |
| **50å¹¶å‘ï¼Œ1å·¥å…·** | 2ç§’ | 2ç§’ | 0% |
| **100å¹¶å‘ï¼Œ1å·¥å…·** | 2.4ç§’ | 2ç§’ | **17%** âœ… |
| **100å¹¶å‘ï¼Œ3å·¥å…·** | 5ç§’ | 2ç§’ | **60%** âœ…âœ… |
| **500å¹¶å‘ï¼Œ1å·¥å…·** | 12ç§’ | 2ç§’ | **83%** âœ…âœ…âœ… |
| **500å¹¶å‘ï¼Œ3å·¥å…·** | 37ç§’ | 2ç§’ | **95%** âœ…âœ…âœ…âœ…âœ… |

**å…³é”®ä¼˜åŠ¿**ï¼š
- âœ… æ— çº¿ç¨‹æ± é™åˆ¶ï¼ˆä¸å—80ä¸ªçº¿ç¨‹é™åˆ¶ï¼‰
- âœ… çœŸæ­£çš„å¹¶å‘æ‰§è¡Œï¼ˆå¯ä»¥åŒæ—¶æ‰§è¡Œ1000+ä¸ªå·¥å…·ï¼‰
- âœ… èµ„æºåˆ©ç”¨ç‡é«˜ï¼ˆä¸æµªè´¹çº¿ç¨‹ï¼‰
- âœ… å‘åå…¼å®¹ï¼ˆåŒæ­¥å·¥å…·ä»ç„¶å¯ç”¨ï¼‰

---

## âœ… **æ€»ç»“**

### **é—®é¢˜æœ¬è´¨**

```
å¼‚æ­¥æµå¼å“åº” + åŒæ­¥é˜»å¡å·¥å…· = å¿…é¡»ä½¿ç”¨boundedElastic
                              = æ€§èƒ½ç“¶é¢ˆ
```

### **ä¸ºä»€ä¹ˆæ‰€æœ‰11ä¸ªæ¨¡å‹éƒ½æœ‰è¿™ä¸ªé—®é¢˜ï¼Ÿ**

å› ä¸ºå®ƒä»¬éƒ½éµå¾ªç›¸åŒçš„æ¶æ„ï¼š
1. âœ… AIæ¨¡å‹çš„æµå¼å“åº”æ˜¯å¼‚æ­¥çš„ï¼ˆFluxï¼‰
2. âŒ ç”¨æˆ·çš„å·¥å…·å‡½æ•°æ˜¯åŒæ­¥çš„ï¼ˆString call()ï¼‰
3. âš ï¸ å¿…é¡»åˆ‡æ¢åˆ°ç‹¬ç«‹çº¿ç¨‹æ± æ‰§è¡Œå·¥å…·
4. âš ï¸ boundedElasticçº¿ç¨‹æ± æœ‰ä¸Šé™ï¼ˆ80ä¸ªçº¿ç¨‹ï¼‰

### **è§£å†³è·¯å¾„**

```
é˜¶æ®µ1ï¼ˆç«‹å³ï¼‰ï¼šä¼˜åŒ–é…ç½®
â”œâ”€ å¢åŠ boundedElasticçº¿ç¨‹æ•°ï¼ˆ200ä¸ªï¼‰
â”œâ”€ æ·»åŠ ç›‘æ§å‘Šè­¦
â””â”€ æ”¶ç›Šï¼š+50%æ€§èƒ½

é˜¶æ®µ2ï¼ˆ1-2ä¸ªæœˆï¼‰ï¼šå¼‚æ­¥å·¥å…·æ¥å£
â”œâ”€ å®šä¹‰AsyncToolCallbackæ¥å£
â”œâ”€ ç”¨æˆ·å®ç°å¼‚æ­¥å·¥å…·
â”œâ”€ ä¿®æ”¹ToolCallingManager
â”œâ”€ æ›´æ–°æ‰€æœ‰11ä¸ªæ¨¡å‹
â””â”€ æ”¶ç›Šï¼š+500%æ€§èƒ½ï¼Œå½»åº•è§£å†³é—®é¢˜

é˜¶æ®µ3ï¼ˆ3-6ä¸ªæœˆï¼‰ï¼šå®Œå…¨é‡æ„
â”œâ”€ æ™ºèƒ½è°ƒåº¦å™¨
â”œâ”€ æµå¼å·¥å…·æ‰§è¡Œ
â”œâ”€ è‡ªé€‚åº”çº¿ç¨‹æ± 
â””â”€ æ”¶ç›Šï¼š+1000%æ€§èƒ½ï¼Œå·¥ä¸šçº§æ–¹æ¡ˆ
```

### **æŠ€æœ¯ä»·å€¼**

è¿™æ˜¯ä¸€ä¸ª**æ¶æ„çº§åˆ«çš„ä¼˜åŒ–**ï¼š
- ğŸ”´ å½±å“æ‰€æœ‰11ä¸ªAIæ¨¡å‹
- â­ æ€§èƒ½æå‡5-10å€
- ğŸ¯ æ”¹å–„å¼€å‘è€…ä½“éªŒ
- ğŸš€ ä¸ºæœªæ¥æ‰©å±•æ‰“åŸºç¡€

---

å¸Œæœ›è¿™ä¸ªè¯¦ç»†çš„è§£é‡Šèƒ½å¸®ä½ å®Œå…¨ç†è§£è¿™ä¸ªé—®é¢˜ï¼ğŸ‰

